_SWAP_TEST_ â† {
    â SWAP TEST
    â This function implements the SWAP Test to compare the similarity between two quantum states.
    â Parameters:
    â âµ: Initial vector state representing the two vector states to compare and the ancilla qubits in 0 state ğœ“âŸ© âˆ£ÏˆâŸ©  (quantum state input).
    â âº: Ancilla index (not used explicitly here, assumed ancillary qubit is at position 0).
    H â† #.quapl.gates.H
    I â† #.quapl.gates.I
    FRK â† #.quapl.gates.FRK
    stage â† #.quapl.circuit.stage
    msmt â† #.quapl.measurement

    n_qubits â† (2âŸ1âŒ·â´âµ)
    qubits â† â³n_qubits
    qubits_index â† (â³n_qubits)-1

    apply  â†  âŒ½ (({I}Â¨( Â¯1â†“(qubits))) , âŠ‚H )
    mid_state â† ((qubits_index) apply ) stage âµ
    mid_state  â† FRK +.Ã— mid_state
    mid_state â† ((qubits_index) apply ) stage mid_state
    mid_state
}

_meas_swap_test_  â† {  
    â Measurement wrapper for the SWAP Test
    â This function runs the SWAP Test and measures the ancillary qubit to check similarity.
    â Parameters:
    â âµ: Initial vector state in the 0 state (quantum state input).
    vs â† _SWAP_TEST_ âµ
    0 msmt.measure vs
}

